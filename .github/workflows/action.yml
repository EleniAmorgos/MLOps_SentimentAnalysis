name: 'Node CI'
description: 'Standard CI for a MLOps project'
inputs:
  node-version:
    description: 'The version of node'
    required: true   
runs:
  using: 'composite'
  steps:
    - name: Setup node env 🏗
      uses: actions/setup-node@v2
      with:
        node-version: ${{ inputs.node-version }}
        cache: npm
        check-latest: true

    - name: Install dependencies 👨🏻‍💻
      shell: bash
      run: npm ci --prefer-offline --no-audit
      
    - name: Run tests 🧪
      shell: bash
      run: npm run test
